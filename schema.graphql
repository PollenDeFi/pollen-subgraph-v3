type User @entity {
  id: ID!
  rebalances: [PortfolioRebalance!]!
  currentPortfolio: Portfolio
  stats: UserStat!
}

type Asset @entity {
  id: ID!
  name: String!
  symbol: String!
  decimals: Int!
}

type AssetBalance @entity {
  id: ID!
  asset: Asset!
  amount: BigInt!
}

type Portfolio @entity {
  id: ID!
  owner: User!
  assetBalances: [AssetBalance!]!
}

type PollenToken @entity {
  id: ID!
  asset: Asset!
  supply: BigInt!
}

type PortfolioRebalance @entity {
  id: ID!
  timestamp: BigInt!
  portfolio: Portfolio!
}

type Delegation @entity {
  id: ID!
  delegator: User!
  delegatee: User!
  amount: BigInt!
}

type UserStat @entity {
  id: ID!
  totalDelegatedTo: BigInt!
  totalDelegatedFrom: BigInt!
}
